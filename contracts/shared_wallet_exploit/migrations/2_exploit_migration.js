var Exploit = artifacts.require("Exploit");

const argv = require('minimist')(process.argv.slice(2), {string: ['contract-address']});
const fs = require('fs');


module.exports = async (deployer, network, accounts) => {
  console.log(__dirname);

  const account = accounts[accounts.length - 1];

  const contractAddress = argv['contract-address'];
  await deployer.deploy(Exploit, contractAddress, {from:account, value: web3.utils.toWei("1", "ether")});
  fs.writeFileSync("./deploy/Account.address", account)
}